<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MOM6: /home/adcroft/GitHub/workspace/Gaea-stats-MOM6-examples/MOM6-examples/src/MOM6/src/initialization/MOM_state_initialization.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MOM6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('MOM__state__initialization_8F90.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MOM_state_initialization.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="MOM__memory_8h_source.html">MOM_memory.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for MOM_state_initialization.F90:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="MOM__state__initialization_8F90__incl.svg" width="239" height="246"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="MOM__state__initialization_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespacemom__state__initialization"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html">mom_state_initialization</a></td></tr>
<tr class="memdesc:namespacemom__state__initialization"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize state variables, u, v, h, T and S. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:af4e854627c6572332ba3fd895f169321"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#af4e854627c6572332ba3fd895f169321">mom_state_initialization::mom_initialize_state</a> (u, v, h, tv, Time, G, GV, PF, dirs, restart_CS, ALE_CSp, tracer_Reg, sponge_CSp, ALE_sponge_CSp, OBC, Time_in)</td></tr>
<tr class="separator:af4e854627c6572332ba3fd895f169321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8cc1fbd47cc399e10a6249531754c1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a2a8cc1fbd47cc399e10a6249531754c1">mom_state_initialization::initialize_thickness_from_file</a> (h, G, GV, param_file, file_has_thickness, just_read_params)</td></tr>
<tr class="memdesc:a2a8cc1fbd47cc399e10a6249531754c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine reads the layer thicknesses or interface heights from a file.  <a href="namespacemom__state__initialization.html#a2a8cc1fbd47cc399e10a6249531754c1">More...</a><br /></td></tr>
<tr class="separator:a2a8cc1fbd47cc399e10a6249531754c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7252819826e260c3937db9cf983dcf82"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a7252819826e260c3937db9cf983dcf82">mom_state_initialization::adjustetatofitbathymetry</a> (G, GV, eta, h)</td></tr>
<tr class="memdesc:a7252819826e260c3937db9cf983dcf82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust interface heights to fit the bathymetry and diagnose layer thickness. If the bottom most interface is below the topography then the bottom-most layers are contracted to GVAngstrom_z. If the bottom most interface is above the topography then the entire column is dilated (expanded) to fill the void.  <a href="namespacemom__state__initialization.html#a7252819826e260c3937db9cf983dcf82">More...</a><br /></td></tr>
<tr class="separator:a7252819826e260c3937db9cf983dcf82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f7a21e110b80140439dedccaf4fa1c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a06f7a21e110b80140439dedccaf4fa1c">mom_state_initialization::initialize_thickness_uniform</a> (h, G, GV, param_file, just_read_params)</td></tr>
<tr class="separator:a06f7a21e110b80140439dedccaf4fa1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1752fe7b4c2a9878165f5ae77201cd30"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a1752fe7b4c2a9878165f5ae77201cd30">mom_state_initialization::initialize_thickness_search</a></td></tr>
<tr class="separator:a1752fe7b4c2a9878165f5ae77201cd30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490293ea820ae030d11f659c2ee8c85f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a490293ea820ae030d11f659c2ee8c85f">mom_state_initialization::convert_thickness</a> (h, G, GV, tv)</td></tr>
<tr class="separator:a490293ea820ae030d11f659c2ee8c85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be11e6c0970e18a4c57f029eda630e5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a9be11e6c0970e18a4c57f029eda630e5">mom_state_initialization::depress_surface</a> (h, G, GV, param_file, tv, just_read_params)</td></tr>
<tr class="separator:a9be11e6c0970e18a4c57f029eda630e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29cd3c6b5de2b36b9690d800ac98a09"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#ac29cd3c6b5de2b36b9690d800ac98a09">mom_state_initialization::trim_for_ice</a> (PF, G, GV, ALE_CSp, tv, h, just_read_params)</td></tr>
<tr class="memdesc:ac29cd3c6b5de2b36b9690d800ac98a09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the layer thicknesses by cutting away the top of each model column at the depth where the hydrostatic pressure matches an imposed surface pressure read from file.  <a href="namespacemom__state__initialization.html#ac29cd3c6b5de2b36b9690d800ac98a09">More...</a><br /></td></tr>
<tr class="separator:ac29cd3c6b5de2b36b9690d800ac98a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ee3c056ca59c1c3529a4ec22e09fe3"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a71ee3c056ca59c1c3529a4ec22e09fe3">mom_state_initialization::cut_off_column_top</a> (nk, tv, Rho0, G_earth, depth, min_thickness, T, T_t, T_b, S, S_t, S_b, p_surf, h, remap_CS)</td></tr>
<tr class="memdesc:a71ee3c056ca59c1c3529a4ec22e09fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the layer thicknesses by cutting away the top at the depth where the hydrostatic pressure matches p_surf.  <a href="namespacemom__state__initialization.html#a71ee3c056ca59c1c3529a4ec22e09fe3">More...</a><br /></td></tr>
<tr class="separator:a71ee3c056ca59c1c3529a4ec22e09fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b1b3bb5314096758090a074e552181"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#ae2b1b3bb5314096758090a074e552181">mom_state_initialization::initialize_velocity_from_file</a> (u, v, G, param_file, just_read_params)</td></tr>
<tr class="separator:ae2b1b3bb5314096758090a074e552181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de6eb1d89deb76196b2876c8982a956"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a1de6eb1d89deb76196b2876c8982a956">mom_state_initialization::initialize_velocity_zero</a> (u, v, G, param_file, just_read_params)</td></tr>
<tr class="separator:a1de6eb1d89deb76196b2876c8982a956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066c9ee574ec6649c2fed6529fc3d4f7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a066c9ee574ec6649c2fed6529fc3d4f7">mom_state_initialization::initialize_velocity_uniform</a> (u, v, G, param_file, just_read_params)</td></tr>
<tr class="separator:a066c9ee574ec6649c2fed6529fc3d4f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31cf431d9c7cf6351b13e733a43050b9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a31cf431d9c7cf6351b13e733a43050b9">mom_state_initialization::initialize_velocity_circular</a> (u, v, G, param_file, just_read_params)</td></tr>
<tr class="separator:a31cf431d9c7cf6351b13e733a43050b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2156cd3a64fba763c9841cd587f10ea8"><td class="memItemLeft" align="right" valign="top">real function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> (ig, jg)</td></tr>
<tr class="separator:a2156cd3a64fba763c9841cd587f10ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706c24ba7b8a344152ea0d3da051ceb5"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a706c24ba7b8a344152ea0d3da051ceb5">mom_state_initialization::initialize_temp_salt_from_file</a> (T, S, G, param_file, just_read_params)</td></tr>
<tr class="separator:a706c24ba7b8a344152ea0d3da051ceb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d627f0ef1dc66acc764a40fd662a758"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a7d627f0ef1dc66acc764a40fd662a758">mom_state_initialization::initialize_temp_salt_from_profile</a> (T, S, G, param_file, just_read_params)</td></tr>
<tr class="separator:a7d627f0ef1dc66acc764a40fd662a758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e48fb8f88b20cfbf32a7e50b5394c4"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a87e48fb8f88b20cfbf32a7e50b5394c4">mom_state_initialization::initialize_temp_salt_fit</a> (T, S, G, GV, param_file, eqn_of_state, P_Ref, just_read_params)</td></tr>
<tr class="separator:a87e48fb8f88b20cfbf32a7e50b5394c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0793ab167463a3bb45114f57cf018a40"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a0793ab167463a3bb45114f57cf018a40">mom_state_initialization::initialize_temp_salt_linear</a> (T, S, G, param_file, just_read_params)</td></tr>
<tr class="separator:a0793ab167463a3bb45114f57cf018a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99730b61ad00c449a56beff4d9e5ed0a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a99730b61ad00c449a56beff4d9e5ed0a">mom_state_initialization::initialize_sponges_file</a> (G, GV, use_temperature, tv, param_file, CSp)</td></tr>
<tr class="memdesc:a99730b61ad00c449a56beff4d9e5ed0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine sets the inverse restoration time (Idamp), and the values towards which the interface heights and an arbitrary number of tracers should be restored within each sponge. The interface height is always subject to damping, and must always be the first registered field.  <a href="namespacemom__state__initialization.html#a99730b61ad00c449a56beff4d9e5ed0a">More...</a><br /></td></tr>
<tr class="separator:a99730b61ad00c449a56beff4d9e5ed0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace20e4d29e01307fc37911d9ce4df2e3"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#ace20e4d29e01307fc37911d9ce4df2e3">mom_state_initialization::set_velocity_depth_max</a> (G)</td></tr>
<tr class="separator:ace20e4d29e01307fc37911d9ce4df2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb88f9e67fa49a0dc69b2b3b8ea65bbe"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#acb88f9e67fa49a0dc69b2b3b8ea65bbe">mom_state_initialization::compute_global_grid_integrals</a> (G)</td></tr>
<tr class="separator:acb88f9e67fa49a0dc69b2b3b8ea65bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eda11f130fa39ea833f7b1e4d099c58"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a9eda11f130fa39ea833f7b1e4d099c58">mom_state_initialization::set_velocity_depth_min</a> (G)</td></tr>
<tr class="separator:a9eda11f130fa39ea833f7b1e4d099c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28dbceb8938600e7c0bc15380cef89a"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#ab28dbceb8938600e7c0bc15380cef89a">mom_state_initialization::mom_temp_salt_initialize_from_z</a> (h, tv, G, GV, PF, just_read_params)</td></tr>
<tr class="memdesc:ab28dbceb8938600e7c0bc15380cef89a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine determines the isopycnal or other coordinate interfaces and layer potential temperatures and salinities directly from a z-space file on a latitude-longitude grid.  <a href="namespacemom__state__initialization.html#ab28dbceb8938600e7c0bc15380cef89a">More...</a><br /></td></tr>
<tr class="separator:ab28dbceb8938600e7c0bc15380cef89a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c77bf2b0ea9d28e28b661a2a42d3f88"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a5c77bf2b0ea9d28e28b661a2a42d3f88">mom_state_initialization::mom_state_init_tests</a> (G, GV, tv)</td></tr>
<tr class="memdesc:a5c77bf2b0ea9d28e28b661a2a42d3f88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run simple unit tests.  <a href="namespacemom__state__initialization.html#a5c77bf2b0ea9d28e28b661a2a42d3f88">More...</a><br /></td></tr>
<tr class="separator:a5c77bf2b0ea9d28e28b661a2a42d3f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0d04f34a0f7ba9ce38686ca2ce005508"><td class="memItemLeft" align="right" valign="top"><a class="el" href="version__variable_8h.html#acda997fe1761de4c6bca0f27dc786964">character</a>(len=40)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemom__state__initialization.html#a0d04f34a0f7ba9ce38686ca2ce005508">mom_state_initialization::mdl</a> = &quot;MOM_state_initialization&quot;</td></tr>
<tr class="separator:a0d04f34a0f7ba9ce38686ca2ce005508"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a2156cd3a64fba763c9841cd587f10ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2156cd3a64fba763c9841cd587f10ea8">&#9670;&nbsp;</a></span>my_psi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">real function initialize_velocity_circular::my_psi </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>ig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>jg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MOM__state__initialization_8F90_source.html#l01317">1317</a> of file <a class="el" href="MOM__state__initialization_8F90_source.html">MOM_state_initialization.F90</a>.</p>

<p class="reference">Referenced by <a class="el" href="MOM__state__initialization_8F90_source.html#l01270">mom_state_initialization::initialize_velocity_circular()</a>.</p>
<div class="fragment"><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordtype">integer</span> :: ig, jg</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordtype">real</span> :: x, y, r</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    x = 2.0*(g%geoLonBu(ig,jg)-g%west_lon)/g%len_lon-1.0  <span class="comment">! -1&lt;x&lt;1</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    y = 2.0*(g%geoLatBu(ig,jg)-g%south_lat)/g%len_lat-1.0 <span class="comment">! -1&lt;y&lt;1</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    r = sqrt( x**2 + y**2 ) <span class="comment">! Circulat stream fn nis fn of radius only</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    r = min(1.0,r) <span class="comment">! Flatten stream function in corners of box</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> = 0.5*(1.0 - cos(dpi*r))</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> = <a class="code" href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a> * (circular_max_u*g%len_lon*1e3/dpi) <span class="comment">! len_lon is in km</span></div><div class="ttc" id="MOM__state__initialization_8F90_html_a2156cd3a64fba763c9841cd587f10ea8"><div class="ttname"><a href="MOM__state__initialization_8F90.html#a2156cd3a64fba763c9841cd587f10ea8">my_psi</a></div><div class="ttdeci">real function my_psi(ig, jg)</div><div class="ttdef"><b>Definition:</b> <a href="MOM__state__initialization_8F90_source.html#l01317">MOM_state_initialization.F90:1317</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="MOM__state__initialization_8F90_a2156cd3a64fba763c9841cd587f10ea8_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_80d9a72a764e34362c8238d6d43b55a0.html">initialization</a></li><li class="navelem"><a class="el" href="MOM__state__initialization_8F90.html">MOM_state_initialization.F90</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
